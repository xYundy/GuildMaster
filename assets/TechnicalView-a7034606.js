import{N as _}from"./Nail-8a396162.js";import{d as v,_ as u,r as d,o as c,c as r,a as t,g as i,F as w,n as C,t as m,p as g,e as f,m as y,z as I,A as T}from"./index-1b37e8dc.js";const N=v({name:"ChangelogComponent",components:{Nail:_},data:()=>({timeFormat:Intl.DateTimeFormat(Intl.DateTimeFormat().resolvedOptions().locale,{year:"numeric",month:"numeric",day:"numeric"}),releases:[],lastPage:1}),methods:{async getReleases(e){const o=await fetch("https://api.github.com/repos/YouHaveTrouble/GuildMaster/releases?per_page=10").catch(s=>null);if(o===null)return;const p=await o.json();for(const s of p){const l={};l.body=s.body.trim(),l.name=s.name,l.createdAt=new Date(s.published_at),s.body.length!==0&&this.releases.push(l)}}},async mounted(){this.getReleases(1)}});const b=e=>(g("data-v-bd792404"),e=e(),f(),e),x={class:"changelog panel pinned-paper"},k={class:"nail top-left"},D={class:"nail top-right"},G=b(()=>t("h1",null,"Changelog",-1)),M={class:"changelog-list"},V={class:"changelog-entry"},F=b(()=>t("hr",null,null,-1)),B={class:"date"};function A(e,o,p,s,l,h){const n=d("Nail");return c(),r("div",x,[t("div",k,[i(n)]),t("div",D,[i(n)]),G,t("div",M,[(c(!0),r(w,null,C(e.releases,a=>(c(),r("div",V,[F,t("h2",null,[t("span",null,"Version "+m(a.name),1),t("small",B,m(e.timeFormat.format(a.createdAt)),1)]),t("pre",null,m(a.body),1)]))),256))])])}const H=u(N,[["render",A],["__scopeId","data-v-bd792404"]]),j=v({name:"ChangelogComponent",components:{Nail:_},data:()=>({importSaveText:""}),methods:{openSaveImport(){this.$refs.importDialog.showModal()},closeSaveImport(){this.$refs.importDialog.close()},exportSave(){const e=window.localStorage.getItem("savedGame");if(!e){alert("No save file found!");return}navigator.clipboard.writeText(btoa(e)),setTimeout(()=>alert("Save data copied to clipboard!"),100)},importSave(){const e=this.importSaveText;try{const o=atob(e);JSON.parse(o),window.localStorage.setItem("savedGame",o),window.location.reload()}catch{alert("Invalid save file!");return}},wipeSave(){confirm("You are about to wipe your save file. Are you sure?")&&(window.localStorage.removeItem("savedGame"),window.location.reload())}}});const $=e=>(g("data-v-c4fdbb0c"),e=e(),f(),e),Y={class:"save-manager panel pinned-paper"},E={ref:"importDialog"},K={class:"import-dialog"},O={style:{display:"flex","flex-direction":"row","flex-wrap":"wrap",gap:"0.5rem"}},P=["disabled"],R={class:"nail top-left"},z={class:"nail top-right"},J=$(()=>t("h1",null,"Save file",-1)),L={class:"buttons"},U=$(()=>t("span",{class:"red"},"Wipe",-1)),W=[U];function q(e,o,p,s,l,h){const n=d("Nail");return c(),r("div",Y,[t("dialog",E,[t("div",K,[y(t("textarea",{"onUpdate:modelValue":o[0]||(o[0]=a=>e.importSaveText=a),placeholder:"Paste your save data here"},null,512),[[I,e.importSaveText]]),t("div",O,[t("button",{type:"button",class:"button metal",onClick:o[1]||(o[1]=a=>e.importSave()),disabled:e.importSaveText===""}," Import ",8,P),t("button",{class:"close",onClick:o[2]||(o[2]=(...a)=>e.closeSaveImport&&e.closeSaveImport(...a))},"âœ—")])])],512),t("div",R,[i(n)]),t("div",z,[i(n)]),J,t("div",L,[t("button",{class:"button metal",onClick:o[3]||(o[3]=a=>e.exportSave())}," Export "),t("button",{class:"button metal",onClick:o[4]||(o[4]=a=>e.openSaveImport())}," Import "),t("button",{class:"button metal",onClick:o[5]||(o[5]=a=>e.wipeSave())},W)])])}const Q=u(j,[["render",q],["__scopeId","data-v-c4fdbb0c"]]),X=v({name:"TechnicalView",components:{Nail:_,SaveManagerComponent:Q,ChangelogComponent:H}}),Z="/img/icons/discord.svg",ee="/img/icons/github.svg";const te={class:"technical-view"},oe={class:"socials panel pinned-paper"},ae={class:"nail top-left small"},se={class:"nail top-right small"},ne=T('<h1 data-v-4de99964>Socials</h1><div class="links" data-v-4de99964><a class="link" href="https://discord.gg/j8KK5dGBps" data-v-4de99964><img class="icon" src="'+Z+'" alt="Discord" data-v-4de99964> Discord </a><a class="link" href="https://github.com/YouHaveTrouble/GuildMaster" data-v-4de99964><img class="icon" src="'+ee+'" alt="GitHub" data-v-4de99964> GitHub </a></div>',2);function ie(e,o,p,s,l,h){const n=d("Nail"),a=d("SaveManagerComponent"),S=d("ChangelogComponent");return c(),r("section",te,[t("div",oe,[t("div",ae,[i(n)]),t("div",se,[i(n)]),ne]),i(a),i(S)])}const ce=u(X,[["render",ie],["__scopeId","data-v-4de99964"]]);export{ce as default};
