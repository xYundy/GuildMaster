import{A as f}from"./AdventurerTile-0e1a8df3.js";import{d as c,y as $,_ as p,o as a,c as d,a as t,t as n,b as _,r as i,l as b,g as u,q as v,F as C,n as D,p as j,e as O}from"./index-1b37e8dc.js";const F=c({name:"AdventurerDetails",methods:{formatDamage:$},props:{adventurer:{type:Object,required:!0}},mounted(){this.$refs.modal.showModal()}});const H={key:0,ref:"modal",class:"adventurer-details"},P={class:"adventurer-portrait"},w=["src"],B={class:"name"},S={class:"adventurer-data"},T={class:"adventurer-upgrades"},V=["disabled","title"];function q(e,r,m,h,g,y){return e.adventurer?(a(),d("dialog",H,[t("button",{class:"close",onClick:r[0]||(r[0]=o=>e.$emit("closeButtonClicked"))},"✗"),t("div",P,[t("img",{src:e.adventurer.portrait,alt:"",draggable:"false"},null,8,w)]),t("span",B,n(e.adventurer.name),1),t("div",S,[t("p",null,"Level: "+n(e.adventurer.level)+" / "+n(e.adventurer.getMaxLevel()),1),t("p",null,"Prestige level: "+n(e.adventurer.prestige),1),t("p",null,"Exp: "+n(e.adventurer.exp)+" / "+n(e.adventurer.getNextLevelExpRequirement()),1),t("p",null,"DPS: "+n(e.formatDamage(e.adventurer.getDPS())),1)]),t("div",T,[t("button",{class:"button metal",disabled:!e.adventurer.canPrestigeUp(),title:e.adventurer.canPrestigeUp()?"":"Adventurer needs to be at max level to prestige up",onClick:r[1]||(r[1]=()=>{e.adventurer!==null&&e.adventurer.canPrestigeUp()&&e.adventurer.prestigeUp()})}," Prestige up ",8,V)])],512)):_("",!0)}const I=p(F,[["render",q],["__scopeId","data-v-4b85c3f3"]]),N=c({name:"RecruitView",components:{AdventurerDetails:I,AdventurerTile:f},data:()=>({currentlyForHire:null,adventurersForHire:[],selectedAdventurer:null}),props:{guild:{type:Object,required:!0},adventurers:{type:Object,required:!0},adventurerForHire:{type:Object,default(){return null}}},methods:{hireAdventurer(){Object.keys(this.adventurers).length>=this.guild.adventurerCapacity.getAdventurerCapacity()||this.$emit("recruitActionTaken",this.adventurerForHire)},dismissAdventurer(){Object.keys(this.adventurers).length<=0||this.$emit("recruitActionTaken",null)}},async mounted(){},emits:["recruitActionTaken"]});const l=e=>(j("data-v-547ae079"),e=e(),O(),e),L={class:"adventurer-section"},U={class:"recruit panel pinned-paper"},E=l(()=>t("h1",null,"Applying adventurers",-1)),R={class:"adventurers"},M={key:0},z={class:"decision"},G=["title"],J={key:1},K=l(()=>t("span",null,"Noone applied as of now. Check back later!",-1)),Q=[K],W={class:"collection panel pinned-paper"},X=l(()=>t("small",null,"Click an adventurer to see details about them",-1)),Y={class:"adventurers"},Z=["onClick"];function x(e,r,m,h,g,y){const o=i("AdventurerDetails"),k=i("adventurer-tile"),A=i("AdventurerTile");return a(),d("div",L,[e.selectedAdventurer!==null?(a(),b(o,{key:0,adventurer:e.selectedAdventurer,onCloseButtonClicked:r[0]||(r[0]=s=>e.selectedAdventurer=null)},null,8,["adventurer"])):_("",!0),t("section",U,[E,t("div",R,[e.adventurerForHire?(a(),d("div",M,[u(k,{class:"hire-tile",adventurer:e.adventurerForHire},null,8,["adventurer"]),t("div",z,[t("span",{title:"Hire",onClick:r[1]||(r[1]=s=>e.hireAdventurer()),class:v({disabled:Object.keys(e.adventurers).length>=e.guild.adventurerCapacity.getAdventurerCapacity()})}," ✔ ",2),t("span",{title:Object.keys(e.adventurers).length>0?"Dismiss":"",class:v({disabled:Object.keys(e.adventurers).length<=0}),onClick:r[2]||(r[2]=s=>e.dismissAdventurer())}," ✗ ",10,G)])])):(a(),d("div",J,Q))])]),t("section",W,[t("h1",null," Recruited adventurers ("+n(Object.keys(e.adventurers).length)+" / "+n(e.guild.adventurerCapacity.getAdventurerCapacity())+") ",1),X,t("div",Y,[(a(!0),d(C,null,D(e.adventurers,s=>(a(),d("div",{class:"adventurer-tile",key:s.id,onClick:ee=>e.selectedAdventurer=s},[u(A,{class:"entry",adventurer:s},null,8,["adventurer"]),t("b",null,n(s.name),1)],8,Z))),128))])])])}const ne=p(N,[["render",x],["__scopeId","data-v-547ae079"]]);export{ne as default};
